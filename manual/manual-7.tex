% -*- coding: utf-8 -*-
% !TEX program = lualatex
\documentclass[oneside]{book}

\input{manual.sty}
\CodeHigh{lite}
\setcounter{chapter}{6}

\begin{document}

\chapter{Experimental Interfaces}
\label{chap:exp}

\mywarning{chapter}

\section{Experimental Public Key Paths}

In version 2025A, all \PP{tabularray} key paths were cleaned up as follows:
\begin{itemize}[nosep]
  \item \KP{tabularray/table/inner} (from \KP{tblr})
  \item \KP{tabularray/table/outer} (from \KP{tblr-outer})
  \item \KP{tabularray/column/inner} (from \KP{tblr-column})
  \item \KP{tabularray/row/inner} (from \KP{tblr-row})
  \item \KP{tabularray/cell/inner} (from \KP{tblr-cell-spec})
  \item \KP{tabularray/cell/outer} (from \KP{tblr-cell-span})
  \item \KP{tabularray/hline/inner} (from \KP{tblr-hline})
  \item \KP{tabularray/vline/inner} (from \KP{tblr-vline})
  \item \KP{tabularray/hborder/inner} (from \KP{tblr-hborder})
  \item \KP{tabularray/vborder/inner} (from \KP{tblr-vborder})
\end{itemize}
An advanced user or package writer can use \CC{\DeclareKeys} and \CC{\SetKeys} commands
(provided by LaTeX format) to declare new keys and apply key-value lists, respectively.

The key paths are quite long, therefore \PP{tabularray} provides two shortcut commands
\CC{\DeclareTblrKeys} and \CC{\SetTblrKeys}:

\begin{codehigh}
\DeclareTblrKeys{<path>}{<keyvals>} = \DeclareKeys[tabularray/<path>]{<keyvals>}
\SetTblrKeys{<path>}{<keyvals>} = \SetKeys[tabularray/<path>]{<keyvals>}
\end{codehigh}

\section{Experimental Public Hook Names}

All experimental public \PP{tabularray} hook names provided by \LL{hook} library are as follows:
\begin{itemize}[nosep]
  \item \HP{tabularray/trial/before}
  \item \HP{tabularray/trial/after}
  \item \HP{tabularray/table/before}
  \item \HP{tabularray/table/after}
  \item \HP{tabularray/row/before}
  \item \HP{tabularray/row/after}
  \item \HP{tabularray/cell/before}
  \item \HP{tabularray/cell/after}
\end{itemize}
An advanced user or package writer can use \CC{\AddToHook} and \CC{\AddToHookNext} commands
(provided by LaTeX format) to inject code to \PP{tabularray} tables.

The hook names are quite long, therefore \PP{tabularray} provides two shortcut commands
\CC{\AddToTblrHook} and \CC{\AddToTblrHookNext}:

%\begin{codehigh}
%\AddToTblrHook{<name>}[<label>]{<code>}=\AddToHook{tabularray/<name>}[<label>]{<code>}
%\AddToTblrHookNext{<name>}{<code>}=\AddToHookNext{tabularray/<name>}{<code>}
%\end{codehigh}
\begin{codehigh}
\AddToTblrHook{<name>}{<code>} = \AddToHook{tabularray/<name>}{<code>}
\AddToTblrHookNext{<name>}{<code>} = \AddToHookNext{tabularray/<name>}{<code>}
\end{codehigh}

\section{Experimental Public Variables}

This variable is always available throughout the whole typesetting process of tables:
\begin{itemize}[nosep]
  \item \CC{\lTblrMeasuringBool}: if \PP{tabularray} is doing trial typesetting.
\end{itemize}
You need to make sure \KV{measure=vstore} to make \CC{\lTblrMeasuringBool} correct.

These variables are updated by default before building every cell:
\begin{itemize}[nosep]
  \item \CC{\lTblrCellRowSpanInt}: how many rows are spanned by current cell.
  \item \CC{\lTblrCellColSpanInt}: how many columns are spanned by current cell.
  \item \CC{\lTblrCellOmittedBool}: if current cell is spanned by another cell.
  \item \CC{\lTblrCellBackgroundTl}: background color of current cell.
\end{itemize}

These variables are updated by \LL{html} library before building every cell:
%(you need to write \CC{\UseTblrLibrary{html}} first):
\begin{itemize}[nosep]
  \item \CC{\lTblrCellAboveBorderStyleTl}
  \item \CC{\lTblrCellAboveBorderWidthDim}
  \item \CC{\lTblrCellAboveBorderColorTl}
  \item \CC{\lTblrCellBelowBorderStyleTl}
  \item \CC{\lTblrCellBelowBorderWidthDim}
  \item \CC{\lTblrCellBelowBorderColorTl}
  \item \CC{\lTblrCellLeftBorderStyleTl}
  \item \CC{\lTblrCellLeftBorderWidthDim}
  \item \CC{\lTblrCellLeftBorderColorTl}
  \item \CC{\lTblrCellRightBorderStyleTl}
  \item \CC{\lTblrCellRightBorderWidthDim}
  \item \CC{\lTblrCellRightBorderColorTl}
\end{itemize}
In the above, \TT{BorderStyle}, \TT{BorderWidth}, \TT{BorderColor} are similar to
\K{border-style}, \K{border-width}, \K{border-color} in HTML/CSS, respectively.
\TT{BorderStyle} and \TT{BorderColor} are empty by default.

\end{document}
